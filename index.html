if (folderData.type === 'single') {
                content = `
                    <div style="padding: 20px; text-align: center;">
                        <div style="background: #c0c0c0; border: 4px outset #c0c0c0; padding: 20px; box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.3);">
                            <div style="color: #000080; font-size: 18px; margin-bottom: 10px; text-shadow: 1px 1px 0 #ffffff;">üìÖ ${folderData.title.split(' - ')[1] || ''}</div>
                            <h2 style="margin-bottom: 15px; font-size: 32px; font-weight: bold; color: #000000; text-shadow: 2px 2px 0 #ffffff;">${folderData.title.split(' - ')[0].toUpperCase()}.EXE</h2>
                            <p style="margin-bottom: 20px; font-size: 18px; color: #000000; text-shadow: 1px 1px 0 #ffffff;">
                                LOCATION: ${folderData.location}<br>
                                LOADING MEMORIES...
                            </p>
                            <div class="file-grid">
                `;
                
                folderData.photos.forEach(photo => {
                    content += `
                        <div class="file-item" onclick="openPhotoModal('${photo.name}', '${photo.icon}')">
                            <div class="file-icon">${photo.icon}</div>
                            <div class="file-name">${photo.name}</div>
                        </div>
                    `;
                });
                
                content += '</div></div></div>';
            } else if (folderData.type === 'grid') {
                content = `
                    <div style="padding: 20px; text-align: center;">
                        <div style="background: #c0c0c0; border: 4px outset #c0c0c0; padding: 20px; box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.3);">
                            <div style="color: #000080; font-size: 18px; margin-bottom: 10px; text-shadow: 1px 1px 0 #ffffff;">üìÖ ${folderData.title.split(' - ')[1] || ''}</div>
                            <h2 style="margin-bottom: 15px; font-size: 32px; font-weight: bold; color: #000000; text-shadow: 2px 2px 0 #ffffff;">${folderData.title.split(' - ')[0].toUpperCase()}.ZIP</h2>
                            <p style="margin-bottom: 20px; font-size: 18px; color: #000000; text-shadow: 1px 1px 0 #ffffff;">
                                LOCATION: ${folderData.location}<br>
                                EXTRACTING MEMORIES...
                            </p>
                            <div class="photo-grid ${folderData.gridType}">
                `;
                
                folderData.photos.forEach(photo => {
                    content += `
                        <div class="photo-item" onclick="openPhotoModal('${photo.name}', '${photo.icon}')">
                            <div class="photo-placeholder">
                                <div class="photo-placeholder-icon">${photo.icon}</div>
                                <div style="font-size: 10px; color: #000080;">${photo.name}</div>
                            </div>
                        </div>
                    `;
                });
                
                content += '</div><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Journey Together - Windows 95 Explorer</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'VT323', monospace;
            background: #008080;
            overflow: hidden;
            font-size: 16px;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }

        /* Window Chrome */
        .window {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #008080;
            border: 4px outset #c0c0c0;
            box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.3);
        }

        .title-bar {
            height: 25px;
            background: #000080;
            color: #ffff00;
            display: flex;
            align-items: center;
            padding: 4px;
            font-size: 18px;
            font-weight: bold;
            text-shadow: 2px 2px 0 #000000;
            border-bottom: 2px solid #000000;
        }

        .title-bar-text {
            flex: 1;
            padding-left: 8px;
        }

        .title-bar-controls {
            display: flex;
        }

        .title-bar-control {
            width: 20px;
            height: 18px;
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            margin-left: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
            color: black;
            font-weight: bold;
        }

        .title-bar-control:active {
            border: 2px inset #c0c0c0;
        }

        /* Menu Bar */
        .menu-bar {
            height: 28px;
            background: #c0c0c0;
            border-bottom: 2px solid #808080;
            display: flex;
            align-items: center;
            padding: 0 8px;
            border-top: 2px solid #ffffff;
        }

        .menu-item {
            padding: 6px 12px;
            cursor: pointer;
            font-size: 16px;
            border: 2px outset #c0c0c0;
            margin-right: 4px;
            background: #c0c0c0;
            color: #000000;
            text-shadow: 1px 1px 0 #ffffff;
        }

        .menu-item:hover {
            border: 2px inset #c0c0c0;
            background: #a0a0a0;
        }

        /* Toolbar */
        .toolbar {
            height: 35px;
            background: #c0c0c0;
            border-bottom: 2px solid #808080;
            display: flex;
            align-items: center;
            padding: 0 8px;
            gap: 4px;
            border-top: 2px solid #ffffff;
        }

        .toolbar-button {
            width: 28px;
            height: 26px;
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .toolbar-button:hover {
            border: 2px inset #c0c0c0;
            background: #a0a0a0;
        }

        .toolbar-button:active {
            border: 2px inset #c0c0c0;
            background: #808080;
        }

        .address-bar {
            flex: 1;
            margin-left: 12px;
            height: 24px;
            border: 2px inset #c0c0c0;
            background: white;
            padding: 4px 8px;
            font-size: 14px;
            font-family: 'VT323', monospace;
            color: #000080;
        }

        /* Main Content Area */
        .content-area {
            display: flex;
            height: calc(100% - 118px); /* Subtract title bar, menu, toolbar, status bar */
        }

        /* Left Panel (Tree View) */
        .tree-panel {
            width: 220px;
            background: #c0c0c0;
            border-right: 2px solid #808080;
            overflow-y: auto;
            padding: 8px;
            border-top: 2px solid #ffffff;
        }

        .tree-item {
            display: flex;
            align-items: center;
            padding: 3px 0;
            cursor: pointer;
            font-size: 14px;
            line-height: 20px;
            color: #000000;
            text-shadow: 1px 1px 0 #ffffff;
        }

        .tree-item:hover {
            background: #000080;
            color: #ffff00;
            text-shadow: 1px 1px 0 #000000;
        }

        .tree-item.selected {
            background: #000080;
            color: #ffff00;
            text-shadow: 1px 1px 0 #000000;
        }

        .tree-icon {
            width: 18px;
            height: 18px;
            margin-right: 4px;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tree-expand {
            width: 12px;
            height: 18px;
            margin-right: 4px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .tree-children {
            margin-left: 20px;
        }

        .tree-children.collapsed {
            display: none;
        }

        /* Right Panel (File View) */
        .file-panel {
            flex: 1;
            background: #008080;
            padding: 12px;
            overflow-y: auto;
        }

        .file-grid {
            display: grid;
            gap: 12px;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        }

        .file-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 8px;
    cursor: pointer;
    border: 2px solid transparent;
    text-align: center;
    background: #c0c0c0;
    border: 2px outset #c0c0c0;
    box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.3);
    position: relative;
    overflow: hidden;
}

.file-item img {
    width: 100%;
    height: 60px;
    object-fit: cover;
    border-radius: 4px;
    margin-bottom: 4px;
}

        .file-item:hover {
            border: 2px inset #c0c0c0;
            background: #a0a0a0;
        }

        .file-item.selected {
            background: #000080;
            color: #ffff00;
            border: 2px inset #000080;
        }

        .file-icon {
            width: 40px;
            height: 40px;
            margin-bottom: 4px;
            font-size: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .file-name {
            font-size: 14px;
            word-wrap: break-word;
            max-width: 90px;
            line-height: 16px;
            color: #000000;
            text-shadow: 1px 1px 0 #ffffff;
        }

        .file-item.selected .file-name {
            color: #ffff00;
            text-shadow: 1px 1px 0 #000000;
        }

        /* Photo Grid for multiple photos */
        .photo-grid {
            display: grid;
            gap: 15px;
            padding: 12px;
        }

        .photo-grid.grid-2x2 {
            grid-template-columns: repeat(2, 1fr);
        }

        .photo-grid.grid-3x2 {
            grid-template-columns: repeat(3, 1fr);
        }

        .photo-grid.grid-3x3 {
            grid-template-columns: repeat(3, 1fr);
        }

        .photo-grid.grid-4x2 {
            grid-template-columns: repeat(4, 1fr);
        }

        .photo-grid.grid-4x3 {
            grid-template-columns: repeat(4, 1fr);
        }

        .photo-grid.grid-4x4 {
            grid-template-columns: repeat(4, 1fr);
        }

        .photo-grid.grid-5x4 {
            grid-template-columns: repeat(5, 1fr);
        }

        .photo-grid.grid-5x5 {
            grid-template-columns: repeat(5, 1fr);
        }

        .photo-item {
            background: #c0c0c0;
            border: 4px outset #c0c0c0;
            padding: 8px;
            cursor: pointer;
            text-align: center;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.3);
        }

        .photo-item:hover {
            border: 4px inset #c0c0c0;
            background: #a0a0a0;
        }

        .photo-item:active {
            border: 4px inset #808080;
        }

        .photo-placeholder {
            width: 100%;
            height: 90px;
            background: #ffffff;
            border: 2px dashed #808080;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #000080;
            margin-bottom: 6px;
        }

        .photo-placeholder-icon {
            font-size: 24px;
            margin-bottom: 6px;
        }

        /* Status Bar */
        .status-bar {
            height: 25px;
            background: #c0c0c0;
            border-top: 2px solid #ffffff;
            border-bottom: 2px solid #808080;
            display: flex;
            align-items: center;
            padding: 0 8px;
            font-size: 14px;
            color: #000000;
            text-shadow: 1px 1px 0 #ffffff;
        }

        .status-item {
            padding: 4px 12px;
            border-left: 2px solid #808080;
            background: #c0c0c0;
            border: 2px inset #c0c0c0;
            margin-right: 4px;
        }

        .status-item:first-child {
            border-left: none;
        }

        /* Star Map */
        .star-map {
            width: 100%;
            height: 300px;
            background: #000011;
            position: relative;
            border: 1px inset #c0c0c0;
            margin: 8px 0;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffffff;
            border-radius: 50%;
            box-shadow: 0 0 3px #ffffff;
        }

        .constellation {
            position: absolute;
            color: #ffff00;
            font-size: 10px;
            text-shadow: 1px 1px 0 #000000;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            background: #c0c0c0;
            margin: 10% auto;
            padding: 0;
            border: 2px outset #c0c0c0;
            max-width: 80%;
            max-height: 70%;
        }

        .modal-title-bar {
            height: 18px;
            background: linear-gradient(90deg, #0000ff 0%, #000080 100%);
            color: white;
            display: flex;
            align-items: center;
            padding: 2px;
            font-size: 11px;
            font-weight: bold;
        }

        .modal-close {
            width: 16px;
            height: 14px;
            background: #c0c0c0;
            border: 1px outset #c0c0c0;
            margin-left: auto;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            color: black;
            font-weight: bold;
        }

        .modal-body {
            padding: 8px;
            max-height: 400px;
            overflow-y: auto;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .tree-panel {
                width: 150px;
            }
            
            .photo-grid.grid-4x4,
            .photo-grid.grid-5x4 {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 600px) {
            .tree-panel {
                width: 120px;
            }
            
            .photo-grid.grid-3x3,
            .photo-grid.grid-4x3 {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="window">
        <!-- Title Bar -->
        <div class="title-bar">
            <div class="title-bar-text">üìÅ Our Journey Together - Windows Explorer</div>
            <div class="title-bar-controls">
                <div class="title-bar-control">_</div>
                <div class="title-bar-control">‚ñ°</div>
                <div class="title-bar-control">√ó</div>
            </div>
        </div>

        <!-- Menu Bar -->
        <div class="menu-bar">
            <div class="menu-item">File</div>
            <div class="menu-item">Edit</div>
            <div class="menu-item">View</div>
            <div class="menu-item">Tools</div>
            <div class="menu-item">Help</div>
        </div>

        <!-- Toolbar -->
        <div class="toolbar">
            <div class="toolbar-button" title="Back">‚¨Ö</div>
            <div class="toolbar-button" title="Forward">‚û°</div>
            <div class="toolbar-button" title="Up">‚¨Ü</div>
            <div class="toolbar-button" title="Refresh">üîÑ</div>
            <div class="toolbar-button" title="Home">üè†</div>
            <input type="text" class="address-bar" value="C:\Users\Anniversary\Photos\" readonly>
        </div>

        <!-- Main Content Area -->
        <div class="content-area">
            <!-- Left Panel - Tree View -->
            <div class="tree-panel">
                <div class="tree-item" data-folder="root">
                    <div class="tree-expand">-</div>
                    <div class="tree-icon">üíæ</div>
                    <div>Anniversary Photos</div>
                </div>
                <div class="tree-children" id="main-tree">
                    <div class="tree-item" data-folder="first-date">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>First Date</div>
                    </div>
                    <div class="tree-item" data-folder="late-night-sex">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Late Night Magic</div>
                    </div>
                    <div class="tree-item" data-folder="first-real-pic">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>First Real Pic</div>
                    </div>
                    <div class="tree-item" data-folder="meeting-parents">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Meeting Parents</div>
                    </div>
                    <div class="tree-item" data-folder="late-night-mango">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Late Night Mango</div>
                    </div>
                    <div class="tree-item" data-folder="kibbutz-sunsets">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Kibbutz Sunsets</div>
                    </div>
                    <div class="tree-item" data-folder="first-vacation">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>First Vacation</div>
                    </div>
                    <div class="tree-item" data-folder="shiri-21st">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Shiri's 21st Birthday</div>
                    </div>
                    <div class="tree-item" data-folder="wartime-winter">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Wartime Winter</div>
                    </div>
                    <div class="tree-item" data-folder="six-months">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>6 Months Celebration</div>
                    </div>
                    <div class="tree-item" data-folder="Shows">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Shows</div>
                    </div>
                    <div class="tree-item" data-folder="uncle-auntie">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Family Time</div>
                    </div>
                    <div class="tree-item" data-folder="yehonatan-bday">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Yehonatan's 27th Birthday</div>
                    </div>
                    <div class="tree-item" data-folder="love-to-sleep">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>We Love to Sleep</div>
                    </div>
                    <div class="tree-item" data-folder="random-stuff-1">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Random Stuff</div>
                    </div>
                    <div class="tree-item" data-folder="one-year-anniversary">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>1 Year Anniversary</div>
                    </div>
                    <div class="tree-item" data-folder="thailand-2024">
                        <div class="tree-expand">+</div>
                        <div class="tree-icon">üìÇ</div>
                        <div>Thailand 2024</div>
                    </div>
                    <div class="tree-children collapsed" id="thailand-children">
                        <div class="tree-item" data-folder="kanchanaburi">
                            <div class="tree-expand"></div>
                            <div class="tree-icon">üìÅ</div>
                            <div>Kanchanaburi</div>
                        </div>
                        <div class="tree-item" data-folder="chiang-mai">
                            <div class="tree-expand"></div>
                            <div class="tree-icon">üìÅ</div>
                            <div>Chiang Mai</div>
                        </div>
                        <div class="tree-item" data-folder="pai">
                            <div class="tree-expand"></div>
                            <div class="tree-icon">üìÅ</div>
                            <div>Pai</div>
                        </div>
                        <div class="tree-item" data-folder="koh-tao">
                            <div class="tree-expand"></div>
                            <div class="tree-icon">üìÅ</div>
                            <div>Koh Tao</div>
                        </div>
                        <div class="tree-item" data-folder="koh-phangan">
                            <div class="tree-expand"></div>
                            <div class="tree-icon">üìÅ</div>
                            <div>Koh Phangan</div>
                        </div>
                        <div class="tree-item" data-folder="shithole-thailand">
                            <div class="tree-expand"></div>
                            <div class="tree-icon">üìÅ</div>
                            <div>Shithole Thailand</div>
                        </div>
                        <div class="tree-item" data-folder="bangkok">
                            <div class="tree-expand"></div>
                            <div class="tree-icon">üìÅ</div>
                            <div>Bangkok</div>
                        </div>
                    </div>
                    <div class="tree-item" data-folder="back-to-israel">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Back 2 Israel</div>
                    </div>
                    <div class="tree-item" data-folder="food">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Food!</div>
                    </div>
                    <div class="tree-item" data-folder="dates-fun-2025">
                        <div class="tree-expand"></div>
                        <div class="tree-icon">üìÅ</div>
                        <div>Dates and Fun 2025</div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - File View -->
            <div class="file-panel" id="file-panel">
                <!-- Content will be loaded here -->
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-item">Ready</div>
            <div class="status-item" id="file-count">0 objects</div>
            <div class="status-item" id="current-time">12:00 PM</div>
        </div>
    </div>

    <!-- Modal for enlarged photos -->
    <div id="photo-modal" class="modal">
        <div class="modal-content">
            <div class="modal-title-bar">
                <span>Photo Viewer</span>
                <div class="modal-close" onclick="closeModal()">√ó</div>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Photo content will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // Folder contents data
        const folderContents = {
            'first-date': {
                title: 'First Date - July 10, 2023',
                location: 'Be\'er Sheva, Israel',
                type: 'special',
                content: 'star-map'
            },
            'late-night-sex': {
                title: 'Late Night Magic - July 22, 2023',
                location: 'Jaffa',
                type: 'single',
                photos: [
                    { name: 'late_night_magic.jpg', icon: 'üåô' }
                ]
            },
            'first-real-pic': {
                title: 'First Real Pic - August 4, 2023',
                location: 'Kfar Monash',
                type: 'single',
                photos: [
                    { name: 'first_real_pic.jpg', icon: 'üì∏' }
                ]
            },
            'meeting-parents': {
                title: 'Meeting Parents - August 11, 2023',
                location: 'Kfar Yavetz',
                type: 'single',
                photos: [
                    { name: 'meeting_parents.jpg', icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶' }
                ]
            },
            'late-night-mango': {
                title: 'Late Night Mango - August 18, 2023',
                location: 'Beer Sheva',
                type: 'single',
                photos: [
                    { name: 'late_night_mango.jpg', icon: 'ü•≠' }
                ]
            },
            'kibbutz-sunsets': {
                title: 'Kibbutz Sunsets - August 26, 2023',
                location: 'Hatzerim',
                type: 'single',
                photos: [
                    { name: 'kibbutz_sunset.jpg', icon: 'üåÖ' }
                ]
            },
            'first-vacation': {
                title: 'First Vacation - August 29, 2023',
                location: 'Northern Israel',
                type: 'grid',
                gridType: 'grid-2x2',
                photos: [
                    { name: 'vacation_01.jpg', icon: 'üèîÔ∏è' },
                    { name: 'vacation_02.jpg', icon: 'üå≤' },
                    { name: 'vacation_03.jpg', icon: 'üåø' },
                    { name: 'vacation_04.jpg', icon: 'üèûÔ∏è' }
                ]
            },
            'shiri-21st': {
                title: 'Shiri\'s 21st Birthday - October 3, 2023',
                location: '',
                type: 'grid',
                gridType: 'grid-3x2',
                photos: [
                    { name: 'birthday_01.jpg', icon: 'üéÇ' },
                    { name: 'birthday_02.jpg', icon: 'üéâ' },
                    { name: 'birthday_03.jpg', icon: 'üéà' },
                    { name: 'birthday_04.jpg', icon: 'üéÅ' },
                    { name: 'birthday_05.jpg', icon: 'ü•≥' },
                    { name: 'birthday_06.jpg', icon: 'üéä' }
                ]
            },
            'wartime-winter': {
                title: 'Wartime Winter - October 7, 2023',
                location: '',
                type: 'grid',
                gridType: 'grid-4x3',
                photos: Array.from({length: 13}, (_, i) => ({
                    name: `wartime_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üïäÔ∏è', 'üí™', 'üè†', '‚ù§Ô∏è', 'üåü', 'ü§ù', 'üôè', 'üåà', '‚òÆÔ∏è', 'üíï'][i]
                }))
            },
            'six-months': {
                title: '6 Months Celebration - January 10, 2024',
                location: '',
                type: 'grid',
                gridType: 'grid-4x3',
                photos: Array.from({length: 5}, (_, i) => ({
                    name: `6_months_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üïäÔ∏è', 'üí™', 'üè†', '‚ù§Ô∏è', 'üåü', 'ü§ù', 'üôè', 'üåà', '‚òÆÔ∏è', 'üíï'][i]
                }))

            },
            'Shows': {
                title: 'Shows!',
                location: '',
                type: 'grid',
                gridType: 'grid-4x3',
                photos: Array.from({length: 5}, (_, i) => ({
                    name: `music_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üéµ', 'üé∏', 'üé§', 'üéπ', 'ü•Å', 'üé∫', 'üéª', 'üé∂', 'üéº', 'üéß'][i]
                }))
            },
            'uncle-auntie': {
                title: 'Uncle and Auntie Time',
                location: '',
                type: 'grid',
                gridType: 'grid-4x3',
                photos: Array.from({length: 14}, (_, i) => ({
                    name: `family_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üë®‚Äçüë©‚Äçüëß‚Äçüë¶', 'üçΩÔ∏è', 'üéÆ', 'üì∫', 'üõãÔ∏è', 'üçï', 'üéØ', 'üé≤', 'üÉè', 'üé™', 'üé®', 'üìö'][i]
                }))
            },
            'yehonatan-bday': {
                title: 'Yehonatan\'s 27th Birthday - May 3, 2024',
                location: '',
                type: 'grid',
                gridType: 'grid-3x2',
                photos: [
                    { name: 'yehonatan_bday_01.jpg', icon: 'üéÇ' },
                    { name: 'yehonatan_bday_02.jpg', icon: 'üéâ' },
                    { name: 'yehonatan_bday_03.jpg', icon: 'üéà' },
                    { name: 'yehonatan_bday_04.jpg', icon: 'üéÅ' },
                    { name: 'yehonatan_bday_05.jpg', icon: 'ü•≥' },
                    { name: 'yehonatan_bday_06.jpg', icon: 'üéä' }
                ]
            },
            'love-to-sleep': {
                title: 'We Love to Sleep',
                location: '',
                type: 'grid',
                gridType: 'grid-4x3',
                photos: Array.from({length: 12}, (_, i) => ({
                    name: `sleep_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üò¥', 'üõèÔ∏è', 'üåô', 'üí§', 'üß∏', '‚òÅÔ∏è', 'üåü', 'üí´', 'ü•±', 'üòá'][i]
                }))
            },
            'random-stuff-1': {
                title: 'Random Stuff #1',
                location: '',
                type: 'grid',
                gridType: 'grid-4x3',
                photos: Array.from({length: 13}, (_, i) => ({
                    name: `random_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üì∏', 'üé≠', 'üé™', 'üé®', 'üéØ', 'üé≤', 'üé∏', 'üéπ', 'üéµ', 'üé∂'][i]
                }))
            },
            'one-year-anniversary': {
                title: '1 Year Anniversary - July 10, 2024',
                location: 'Jerusalem',
                type: 'grid',
                gridType: 'grid-4x3',
                photos: Array.from({length: 10}, (_, i) => ({
                    name: `anniversary_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üíñ', 'üíï', 'üíó', 'üíù', 'üíû', 'üíò', 'üíì', 'üíü', '‚ù§Ô∏è', 'üåπ'][i]
                }))
            },
            'kanchanaburi': {
                title: 'Kanchanaburi - Thailand 2024',
                location: 'Thailand',
                type: 'grid',
                gridType: 'grid-3x2',
                photos: Array.from({length: 10}, (_, i) => ({
                    name: `kanchanaburi_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üöÇ', 'üåâ', 'üèûÔ∏è', 'üõ∂', 'üå¥', 'üêò'][i]
                }))
            },
            'chiang-mai': {
                title: 'Chiang Mai - Thailand 2024',
                location: 'Thailand',
                type: 'grid',
                gridType: 'grid-4x2',
                photos: Array.from({length: 8}, (_, i) => ({
                    name: `chiangmai_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üèØ', 'üé≠', 'üçú', 'üõ∫', 'üå∏', 'üêí', 'üèîÔ∏è', 'üé®'][i]
                }))
            },
            'pai': {
                title: 'Pai - Thailand 2024',
                location: 'Thailand',
                type: 'grid',
                gridType: 'grid-5x4',
                photos: Array.from({length: 20}, (_, i) => ({
                    name: `pai_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üèîÔ∏è', 'üåÑ', 'üöô', '‚òï', 'üåª', 'ü¶ã', 'üåæ', 'üèûÔ∏è', 'üåø', 'üêÑ', 'üöó', 'üå∫', 'üéã', 'üå≥', 'üå±', 'üèïÔ∏è', 'üåÖ', 'üé™', 'üé°', 'üé¢'][i]
                }))
            },
            'koh-tao': {
                title: 'Koh Tao - Thailand 2024',
                location: 'Thailand',
                type: 'grid',
                gridType: 'grid-4x3',
                photos: Array.from({length: 13}, (_, i) => ({
                    name: `kohtao_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üèùÔ∏è', 'ü§ø', 'üê†', 'üåä', 'üèñÔ∏è', 'üê¢', 'ü™∏', '‚õµ', 'ü•Ω', 'üå∫'][i]
                }))
            },
            'koh-phangan': {
                title: 'Koh Phangan - Thailand 2024',
                location: 'Thailand',
                type: 'grid',
                gridType: 'grid-4x3',
                photos: Array.from({length: 15}, (_, i) => ({
                    name: `kohphangan_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üåï', 'üéâ', 'üèñÔ∏è', 'üå¥', 'üçπ', 'üé∂', 'üî•', 'üíÉ', 'üï∫', 'üåô', '‚≠ê', 'üéä'][i]
                }))
            },
            'shithole-thailand': {
                title: 'Shithole Thailand - Thailand 2024',
                location: 'Thailand',
                type: 'grid',
                gridType: 'grid-4x4',
                photos: Array.from({length: 14}, (_, i) => ({
                    name: `shithole_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üòÖ', 'ü§∑‚Äç‚ôÇÔ∏è', 'üôÉ', 'üò¨', 'ü§¶‚Äç‚ôÄÔ∏è', 'üòÇ', 'ü§™', 'üòú', 'ü•¥', 'üòµ‚Äçüí´', 'ü§Ø', 'üò±', 'üò≥', 'ü´®'][i]
                }))
            },
            'bangkok': {
                title: 'Bangkok - Thailand 2024',
                location: 'Thailand',
                type: 'grid',
                gridType: 'grid-5x4',
                photos: Array.from({length: 12}, (_, i) => ({
                    name: `bangkok_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üèôÔ∏è', 'üõï', 'üçú', 'üõ∫', 'üé≠', 'üèÆ', 'ü¶Ü', 'üç§', 'ü•¢', 'üè™', 'üöá', 'üåÉ', 'üé™', 'üé®', 'üçõ', 'ü•≠', 'üßß', 'üêò', 'üéØ', 'üé≤'][i]
                }))
            },
            'back-to-israel': {
                title: 'Back 2 Israel - 2024',
                location: 'Israel',
                type: 'grid',
                gridType: 'grid-5x5',
                photos: Array.from({length: 24}, (_, i) => ({
                    name: `israel_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üáÆüá±', 'üè†', '‚ù§Ô∏è', 'üåü', 'ü§ó', 'üòä', 'ü•∞', 'üíï', 'üåà', '‚òÄÔ∏è', 'üåª', 'üå∏', 'ü¶ã', 'üçï', '‚òï', 'üìö', 'üéµ', 'üé≠', 'üé®', 'üé™', 'üéØ', 'üé≤', 'üÉè', 'üí´'][i]
                }))
            },
            'food': {
                title: 'Food! - 2024-2025',
                location: '',
                type: 'grid',
                gridType: 'grid-5x4',
                photos: Array.from({length: 21}, (_, i) => ({
                    name: `food_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üçï', 'üçî', 'üçù', 'üçú', 'üçõ', 'üç§', 'üç£', 'ü•ò', 'üåÆ', 'ü•ô', 'ü•ó', 'üç∞', 'üßÅ', 'üç™', 'üç©', 'ü•ß', 'üçì', 'ü•≠', '‚òï', 'üßã'][i]
                }))
            },
            'dates-fun-2025': {
                title: 'Dates and Fun 2025',
                location: '',
                type: 'grid',
                gridType: 'grid-5x4',
                photos: Array.from({length: 20}, (_, i) => ({
                    name: `dates_${String(i+1).padStart(2, '0')}.jpg`,
                    icon: ['üíï', 'üé≠', 'üé™', 'üé®', 'üéµ', 'üé∏', 'üéπ', 'üé§', 'üéØ', 'üé≤', 'üéÆ', 'üì±', 'üé¨', 'üì∏', 'üåü', 'üí´', '‚≠ê', 'üåà', '‚òÄÔ∏è', 'üåô'][i]
                }))
            }
        };

        let currentFolder = null;

        // Initialize the interface
        function init() {
            updateTime();
            setInterval(updateTime, 60000);
            
            // Add click listeners to tree items
            document.querySelectorAll('.tree-item[data-folder]').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const folder = this.getAttribute('data-folder');
                    
                    if (folder === 'thailand-2024') {
                        toggleThailandFolder(this);
                    } else if (folder !== 'root') {
                        selectFolder(folder, this);
                    }
                });
            });

            // Load first folder by default
            selectFolder('first-date', document.querySelector('[data-folder="first-date"]'));
        }

        function toggleThailandFolder(element) {
            const expandIcon = element.querySelector('.tree-expand');
            const children = document.getElementById('thailand-children');
            
            if (children.classList.contains('collapsed')) {
                children.classList.remove('collapsed');
                expandIcon.textContent = '-';
            } else {
                children.classList.add('collapsed');
                expandIcon.textContent = '+';
            }
        }

        function selectFolder(folderName, element) {
            // Remove previous selection
            document.querySelectorAll('.tree-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            // Add selection to clicked item
            element.classList.add('selected');
            
            // Load folder content
            loadFolderContent(folderName);
            currentFolder = folderName;
            
            // Update address bar
            document.querySelector('.address-bar').value = `C:\\Users\\Anniversary\\Photos\\${folderName}\\`;
        }

        function loadFolderContent(folderName) {
            const filePanel = document.getElementById('file-panel');
            const folderData = folderContents[folderName];
            
            if (!folderData) {
                filePanel.innerHTML = '<div style="padding: 20px; text-align: center;">Folder not found</div>';
                return;
            }

            let content = '';
            
            if (folderData.type === 'special' && folderData.content === 'star-map') {
                content = `
                    <div style="padding: 20px; text-align: center;">
                        <div style="background: #c0c0c0; border: 4px outset #c0c0c0; padding: 20px; box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.3);">
                            <div style="color: #000080; font-size: 18px; margin-bottom: 10px; text-shadow: 1px 1px 0 #ffffff;">üìÖ JULY.10.2023</div>
                            <h2 style="margin-bottom: 15px; font-size: 32px; font-weight: bold; color: #000000; text-shadow: 2px 2px 0 #ffffff;">FIRST_DATE.EXE</h2>
                            <p style="margin-bottom: 20px; font-size: 18px; color: #000000; text-shadow: 1px 1px 0 #ffffff;">
                                INITIALIZING LOVE.EXE...<br>
                                LOCATION: BE'ER SHEVA, ISRAEL<br>
                                STAR MAP OF THE NIGHT WE FIRST MET ‚ú®
                            </p>
                            <div class="star-map" id="star-map-display">
                                <div class="constellation" style="top: 20%; left: 30%;">‚ú® CASSIOPEIA</div>
                                <div class="constellation" style="top: 60%; left: 70%;">‚ú® URSA MAJOR</div>
                                <div class="constellation" style="top: 40%; left: 50%;">üí´ POLARIS</div>
                                <div class="constellation" style="bottom: 20%; right: 30%;">‚ú® ORION</div>
                                <div style="position: absolute; bottom: 10px; left: 10px; color: #ffff00; font-size: 12px; text-shadow: 1px 1px 0 #000000;">
                                    BE'ER SHEVA, ISRAEL - JULY 10, 2023 - 22:00<br>
                                    THE NIGHT SKY WHEN WE FIRST MET ‚ú®
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                filePanel.innerHTML = content;
                createStars();
                updateFileCount(1);
                return;
            }

            if (folderData.type === 'single') {
                content = `
                    <div style="padding: 16px;">
                        <h2 style="margin-bottom: 8px; font-size: 14px; font-weight: bold;">${folderData.title}</h2>
                        <p style="margin-bottom: 12px; font-size: 11px; color: #000080;">${folderData.location}</p>
                        <div class="file-grid">
                `;
                
                folderData.photos.forEach(photo => {
    content += `
        <div class="file-item" onclick="openPhotoModal('${photo.name}', '${photo.icon}')">
            <img src="images/${photo.name}" alt="${photo.name}" style="width: 100%; height: 60px; object-fit: cover; border-radius: 4px;" onerror="this.style.display='none'">
            <div class="file-name">${photo.name}</div>
        </div>
    `;
});
                
                content += '</div></div>';
            } else if (folderData.type === 'grid') {
                content = `
                    <div style="padding: 16px;">
                        <h2 style="margin-bottom: 8px; font-size: 14px; font-weight: bold;">${folderData.title}</h2>
                        <p style="margin-bottom: 12px; font-size: 11px; color: #000080;">${folderData.location}</p>
                        <div class="photo-grid ${folderData.gridType}">
                `;
                
                folderData.photos.forEach(photo => {
    content += `
        <div class="photo-item" onclick="openPhotoModal('${photo.name}', '${photo.icon}')">
            <div class="photo-placeholder" style="position: relative; overflow: hidden;">
                <img src="images/${photo.name}" alt="${photo.name}" style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0;" onerror="this.style.display='none'">
                <div style="font-size: 9px; position: relative; z-index: 2; background: rgba(255,255,255,0.8); padding: 2px; border-radius: 4px;">${photo.name}</div>
            </div>
        </div>
    `;
});
                
                content += '</div></div>';
            }
            
            filePanel.innerHTML = content;
            updateFileCount(folderData.photos ? folderData.photos.length : 1);
        }

        function createStars() {
            const starMap = document.getElementById('star-map-display');
            if (!starMap) return;
            
            // Create random stars
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starMap.appendChild(star);
            }
        }

        function openPhotoModal(filename, icon, updateIndex = true) {
    const modal = document.getElementById('photo-modal');
    const modalBody = document.getElementById('modal-body');
    
    // Update current folder photos and index
    if (updateIndex) {
        const folderData = folderContents[currentFolder];
        if (folderData && folderData.photos) {
            currentFolderPhotos = folderData.photos;
            currentPhotoIndex = currentFolderPhotos.findIndex(photo => photo.name === filename);
        }
    }
    
    modalBody.innerHTML = `
 <div style="text-align: center; padding: 20px; position: relative;">
    <!-- Left Arrow Button -->
    <div onclick="navigatePhoto(-1)" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.7); color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 20px; z-index: 10; user-select: none;">‚Äπ</div>
    
    <!-- Right Arrow Button -->
    <div onclick="navigatePhoto(1)" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.7); color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 20px; z-index: 10; user-select: none;">‚Ä∫</div>
    
    <img src="images/${filename}" alt="${filename}" style="max-width: 100%; max-height: 400px; object-fit: contain;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
 <div style="display: none; font-size: 64px; margin-bottom: 16px;">${icon}</div>
  <h3 style="margin-top: 12px; font-size: 16px;">${filename}</h3>
  <p style="font-size: 12px; color: #666; margin-top: 8px;">Use ‚Üê ‚Üí arrow keys or tap arrows to navigate ‚Ä¢ Press ESC to close</p>
  </div>
`;
    
    modal.style.display = 'block';
}

        let currentPhotoIndex = 0;
        let currentFolderPhotos = [];

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            const modal = document.getElementById('photo-modal');
            if (modal.style.display === 'block') {
                if (event.key === 'ArrowLeft') {
                    navigatePhoto(-1);
                } else if (event.key === 'ArrowRight') {
                    navigatePhoto(1);
                } else if (event.key === 'Escape') {
                    closeModal();
        }
    }
});

function navigatePhoto(direction) {
    // Don't navigate if there's only one photo or no photos
    if (!currentFolderPhotos || currentFolderPhotos.length <= 1) {
        return;
    }
    
    currentPhotoIndex += direction;
    
    // Wrap around
    if (currentPhotoIndex < 0) {
        currentPhotoIndex = currentFolderPhotos.length - 1;
    } else if (currentPhotoIndex >= currentFolderPhotos.length) {
        currentPhotoIndex = 0;
    }
    
    const photo = currentFolderPhotos[currentPhotoIndex];
    updateModalContent(photo.name, photo.icon);
}

function updateModalContent(filename, icon) {
    const modalBody = document.getElementById('modal-body');
    
    // modalBody.innerHTML = `
    //  <div style="text-align: center; padding: 20px; position: relative;">
    //     <!-- Left Arrow Button -->
    //     <div onclick="navigatePhoto(-1)" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.7); color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 20px; z-index: 10; user-select: none;">‚Äπ</div>
        
    //     <!-- Right Arrow Button -->
    //     <div onclick="navigatePhoto(1)" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.7); color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 20px; z-index: 10; user-select: none;">‚Ä∫</div>
        
    //     <img src="images/${filename}" alt="${filename}" style="max-width: 100%; max-height: 400px; object-fit: contain;" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
    //  <div style="display: none; font-size: 64px; margin-bottom: 16px;">${icon}</div>
    //   <h3 style="margin-top: 12px; font-size: 16px;">${filename}</h3>
    //   <p style="font-size: 12px; color: #666; margin-top: 8px;">Use ‚Üê ‚Üí arrow keys or tap arrows to navigate ‚Ä¢ Press ESC to close</p>
    //   </div>
    // `;
}

        function closeModal() {
            document.getElementById('photo-modal').style.display = 'none';
        }

        function updateFileCount(count) {
            document.getElementById('file-count').textContent = `${count} object${count !== 1 ? 's' : ''}`;
        }

        function updateTime() {
            const now = new Date();
            const time = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            document.getElementById('current-time').textContent = time;
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('photo-modal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
